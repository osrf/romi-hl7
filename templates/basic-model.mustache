/**
 * DO NOT EDIT, this is a generated file.
 */

import { CastError } from '..';
import { Message } from '../../hl7';

export class {{class}} {
  static fromHL7(hl7: Message): {{class}} {
    const seg = hl7.segment('{{segment}}');
    if (seg === null) {
      throw new CastError('missing segment "{{segment}}"');
    }

    return new {{class}}(
{{#properties}}
      seg[{{field}}],
{{/properties}}
    );
  }

  constructor(
{{#properties}}
    public {{name}}: string,
{{/properties}}
  ) {}

  toHL7Segments(): string[][] {
    return [[
      '{{segment}}',
{{#fields}}
      {{{.}}},
{{/fields}}
    ]];
  }
}
